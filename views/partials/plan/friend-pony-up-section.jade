section#section5.me-pony-up-section.pony-up-section.plan-section.even
	.header
		h1.pull-left Pony Up!
	.body(ng-hide="ponyUpRequest")
		h3 Find Out What It Means To Pony Up
		.pony-up
			.content.pull-left
				p.calibri So you're interested to hear all about the Pony Up process?  I like your style.  Here's how this process goes down:
				i.icon-circle
					span.calibri You need to RSVP for the event first (the quicker the better).
				i.icon-circle
					span.calibri When the RSVP due date comes around your organizer will use the votes to pick tickets.
				i.icon-circle
					span.calibri Before your organizer shells out any cash, you'll get a Pony Up email to put in your share for your tickets and chosen add-ons.
				p.note.calibri NOTE:  You'll have 24 hrs from the time you get your pony up email to deposit your share because tickets can't be put on hold.
			.img.pull-right
				img(src="/images/cartoon-man-money-left.png")
	.body(ng-show="ponyUpRequest")
		h3 It's Time To Pony Up For Your Part Of The Bill
		.invitees-container
			.invitee.clearfix(id="{{me._id}}")
				.img-container.pull-left
					img.img-polaroid(ng-hide="me.contactInfo.imageUrl",src="/images/cartoon-man-head.png")
					img.img-polaroid(ng-show="me.contactInfo.imageUrl",ng-src="{{me.contactInfo.imageUrl}}")
				.invitee-info.pull-left
					.invitee-name
						.invitee-name-container
							span.name.orange {{me.contactInfo.name}}&nbsp;
							span.guests(ng-show="me.rsvp.decision") + {{me.rsvp.guestCount-1}} {{me.rsvp.guestCount-1 | pluralize:'guest'}}
					.suggested-amounts-container
						label.suggested-amounts-label.info-slide-down-label.clearfix(friend-id="{{me._id}}",key="suggested-amounts")
							i.icon-caret-right.suggested-amounts-caret.icon-2x.pull-left
							.suggested-amount-header.pull-left WEMbli Suggested Pony Up Amount:
							.value.pull-right {{me.tickets.suggestedPonyUpAmount | currency}}
						.suggested-amounts.hide
							.suggested-amount.suggested-ticket-amount.display-popover.clearfix(ng-show="plan.tickets[0]",title="Tickets Cost Breakdown",placement="right",html="true",content-id="{{me._id}}-tickets-popover-content",trigger="hover")
								.header.pull-left TICKETS
								.suggested-amount-body.pull-left.clearfix
									.key.pull-left Estimated total for {{me.rsvp.guestCount}} {{me.rsvp.guestCount | pluralize:'person'}}
									.value.pull-right {{me.tickets.suggestedPonyUpAmount | currency}}
								div(id="{{me._id}}-tickets-popover-content").hide
									.row
										strong.pull-left  Ticket Price
										.pull-right {{me.tickets.group.costBreakdown.ticketPrice | currency}}
									.row.border-bottom
										strong.pull-left  Ticketnetwork Service Fee&nbsp;
										.pull-right {{me.tickets.group.costBreakdown.serviceFee | currency}}
									.row
										strong.pull-left Cost Per Person&nbsp;
										.pull-right {{me.tickets.group.costBreakdown.totalEach | currency}}
									.row
										strong.pull-left Est. Delivery Fee*&nbsp;
										.pull-right {{me.tickets.group.costBreakdown.deliveryFeeEach | currency}}
									.row
										strong.pull-left Total (x{{me.rsvp.guestCount}} {{me.rsvp.guestCount | pluralize:'ticket'}}):&nbsp;
										strong.pull-right {{me.tickets.suggestedPonyUpAmount | currency}}
									.row.disclaimer
										small
											strong *
											span Delivery fee varies depending on the delivery method you choose when you purchase the tickets.

							.suggested-amount.suggested-ticket-amount.clearfix(ng-hide="plan.tickets[0]")
								.header.pull-left TICKETS
								.suggested-amount-body.pull-left.clearfix
									.key.pull-left Estimated total for {{me.rsvp.guestCount}} {{me.rsvp.guestCount | pluralize:'person'}}
									.value.pull-right
										a.wembli-sequence-link(href="/tickets/{{plan.event.eventId}}/{{plan.event.eventName}}",direction="-1") Tickets Not Chosen

							.suggested-amount.suggested-parking-amount.display-popover.clearfix(ng-show="plan.preferences.addOns.parking && plan.parking[0]",title="Parking Cost Breakdown",placement="right",content="content<br/>more content",trigger="hover")
								.header.pull-left PARKING
								.suggested-amount-body.pull-left.clearfix
									.key.pull-left Estimated total for {{me.rsvp.guestCount}} {{me.rsvp.guestCount | pluralize:'person'}}
									.value.pull-right {{me.parking.suggestedPonyUpAmount | currency}}
							.suggested-amount.suggested-parking-amount.clearfix(ng-show="plan.preferences.addOns.parking && !plan.parking[0]")
								.header.pull-left PARKING
								.suggested-amount-body.pull-left.clearfix
									.key.pull-left Estimated total for {{me.rsvp.guestCount}} {{me.rsvp.guestCount | pluralize:'person'}}
									.value.pull-right
										a.wembli-sequence-link(href="/parking/{{plan.event.eventId}}/{{plan.event.eventName}}",direction="-1") Choose Parking

							.suggested-amount.suggested-restaurant-amount.display-popover.clearfix(ng-show="plan.preferences.addOns.restaurants && plan.restaurants[0]",title="Restaurant Cost Breakdown",placement="right",content="content",trigger="hover")
								.header.pull-left RESTAURANT
								.suggested-amount-body.pull-left.clearfix
									.key.pull-left Estimated total for {{me.rsvp.guestCount}} {{me.rsvp.guestCount | pluralize:'person'}}
									.value.pull-right {{me.restaurant.suggestedPonyUpAmount | currency}}
							.suggested-amount.suggested-restaurant-amount.clearfix(ng-show="plan.preferences.addOns.restaurants && !plan.restaurants[0]")
								.header.pull-left RESTAURANT
								.suggested-amount-body.pull-left.clearfix
									.key.pull-left Estimated total for {{me.rsvp.guestCount}} {{me.rsvp.guestCount | pluralize:'person'}}
									.value.pull-right
										a.wembli-sequence-link(href="/restaurants/{{plan.event.eventId}}/{{plan.event.eventName}}") Choose Restaurant

							.suggested-amount.suggested-hotel-amount.display-popover.clearfix(ng-show="plan.preferences.addOns.hotels && plan.hotels[0]",title="Hotel Cost Breakdown",placement="right",content="content",trigger="hover")
								.header.pull-left HOTEL
								.suggested-amount-body.pull-left.clearfix
									.key.pull-left Estimated total for {{me.rsvp.guestCount}} {{me.rsvp.guestCount | pluralize:'person'}}
									.value.pull-right {{me.hotel.suggestedPonyUpAmount | currency}}
							.suggested-amount.suggested-hotel-amount.clearfix(ng-show="plan.preferences.addOns.hotels && !plan.hotels[0]")
								.header.pull-left HOTEL
								.suggested-amount-body.pull-left.clearfix
									.key.pull-left Estimated total for {{me.rsvp.guestCount}} {{me.rsvp.guestCount | pluralize:'person'}}
									.value.pull-right
										a.wembli-sequence-link(href="/hotels/{{plan.event.eventId}}/{{plan.event.eventName}}") Choose Hotel
					.send-pony-up-control.clearfix
						.header.pull-left SEND PONY UP REQUEST FOR:
						.pull-right.input-prepend(ng-class="{false:'muted'}[ponyUpRequest.open]")
							span.add-on $
							input.me-pony-up-amount(type="text",ng-model="ponyUp.amount")
				.history-container.pull-left
					label.history-label.info-slide-down-label.clearfix(friend-id="{{me._id}}",key="history")
						i.icon.icon-caret-right.history-caret.icon-2x.pull-left
						.header.pull-left HISTORY
					.history.hide
						table
							tr.history-item(ng-repeat="history in me.payment | orderBy:'-date'")
								td.type(ng-show="{'outside':true}[history.type]") Outside payment ({{history.method}}):
								td.type(ng-show="{'request':true}[history.type]") Pony Up Request:
								td.type(ng-show="{'response':true}[history.type]") Pony Up Payment:
								td.date {{history.date | date:'short'}}
								td.history-header Status:
								td.status() {{history.status | historyStatus}}
								td.history-header(ng-show="{'outside':true}[history.type]") Amt Received:
								td.history-header(ng-show="{'request':true}[history.type]") Amt Requested:
								td.history-header(ng-show="{'response':true}[history.type]") Amt Received:
								td.amount {{history.amount | currency}}
								td.actions(ng-show="{'request':true}[history.type] && history.open")
									a.btn.btn-tiny.btn-orange.clearfix(href="#section4",ng-hide="history.error || history.resent || history.resendPonyUpInProgress", ng-click="resendPonyUp(me._id, history._id)")
										i.icon.icon-envelope.pull-left
										.text.pull-left Resend
									a.btn.btn-tiny.btn-orange.clearfix(href="#section4",ng-show="!history.error && !history.resent && history.resendPonyUpInProgress", disabled)
										i.icon.icon-cog.icon-spin.pull-left
										.text.pull-left Resend
									a.btn.btn-tiny.btn-orange.clearfix(href="#",ng-show="history.resent", disabled)
										i.icon.icon-envelope.pull-left
										.text.pull-left Sent
									a.btn.btn-tiny.btn-orange.clearfix(href="#",ng-show="history.error", disabled)
										i.icon.icon-envelope.pull-left
										.text.pull-left Error
									a.btn.btn-tiny.btn-danger.clearfix(href="#section4", ,ng-hide="history.error || history.cancelPonyUpRequestInProgress", ng-click="cancelPonyUpRequest(me._id, history._id)")
										i.icon.icon-remove-sign.pull-left
										.text.pull-left Cancel
									a.btn.btn-tiny.btn-danger.clearfix(href="#section4",ng-show="!history.error && history.cancelPonyUpRequestInProgress", disabled)
										i.icon.icon-cog.icon-spin.pull-left
										.text.pull-left Cancel
								td.actions(ng-show="{'outside':true}[history.type]")
									a.btn.btn-tiny.btn-orange.clearfix(href="#section4",ng-hide="history.error || history.removeOutsidePaymentInProgress", ng-click="removeOutsidePayment(me._id, history._id)")
										i.icon.icon-remove-sign.pull-left
										.text.pull-left Remove
									a.btn.btn-tiny.btn-orange.clearfix(href="#section4",ng-show="!history.error && history.removeOutsidePaymentInProgress", disabled)
										i.icon.icon-cog.icon-spin.pull-left
										.text.pull-left Remove
									a.btn.btn-tiny.btn-orange.clearfix(href="#",ng-show="history.error", disabled)
										i.icon.icon-envelope.pull-left
										.text.pull-left Error
							tr.border-bottom
								td(colspan="7")
							tr.total-requested
								td.history-header(colspan="5") Total Requested:
								td.amount {{me.payment.requested | currency}}
							tr.total-requested
								td.history-header(colspan="5") Total Paid:
								td.amount {{me.payment.received | currency}}
							tr.balance
								td.history-header.orange(colspan="5") Balance:
								td.amount.orange {{me.payment.balance | currency}}
			.send-pony-up-button-container.clearfix
				button.btn.btn-orange.btn-large.send-pony-up-button.pull-left(ng-click="showPonyUpModal()",ng-hide="sendPonyUpInProgress")
					.icon.icon-money.pull-left
					span &nbsp;Send Pony Up!

